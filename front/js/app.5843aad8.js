(function(t){function e(e){for(var i,a,s=e[0],l=e[1],c=e[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(i=!1)}i&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={app:0},r=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[t.login_page?n("signin",{on:{Signed:t.onSigned}}):n("v-card",{staticClass:"mx-auto my-4",attrs:{width:"80%"}},[n("v-card-title",[n("div",{staticClass:"flex-grow-0"},[n("v-img",{attrs:{src:t.logoURL,width:"100",height:"70"}})],1),n("p",{staticClass:"my-auto",staticStyle:{"padding-left":"28px"}},[t._v(t._s(t.title))]),n("div",{staticClass:"flex-grow-1"}),n("v-btn",{attrs:{icon:""},on:{click:t.chooseList}},[n("v-icon",[t._v("mdi-format-list-bulleted")])],1),n("v-btn",{attrs:{icon:""},on:{click:t.chooseGrid}},[n("v-icon",[t._v("mdi-grid")])],1),n("v-btn",{staticClass:"ml-5",on:{click:[t.chooseList,t.onLogout]}},[t._v("\n      "+t._s(t.logoutText)+" \n      "),n("v-icon",{staticClass:"ml-1"},[t._v("mdi-exit-to-app")])],1)],1),n("v-card-text",[t.list?n("v-container",[n("v-list",[n("v-list-item-group",t._l(t.links,(function(t){return n("ListElem",{key:t.id,attrs:{link:t}})})),1)],1)],1):n("v-container",{staticClass:"d-flex align-content-start flex-wrap"},t._l(t.links,(function(t){return n("myCard",{key:t.id,attrs:{link:t}})})),1)],1)],1)],1)},r=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mx-auto mt-5",attrs:{width:"250"},on:{click:t.onClick}},[n("v-img",{attrs:{src:t.link.imageURL,width:"250",height:"150"}}),n("v-card-title",[t._v(t._s(t.link.name))]),n("v-card-text",[t._v(t._s(t.link.description))])],1)},s=[],l={props:["link"],methods:{onClick:function(){window.open(this.link.url,"_blank")}}},c=l,u=n("2877"),d=n("6544"),p=n.n(d),f=n("b0af"),v=n("99d9"),m=n("adda"),h=Object(u["a"])(c,a,s,!1,null,null,null),g=h.exports;p()(h,{VCard:f["a"],VCardText:v["a"],VCardTitle:v["b"],VImg:m["a"]});var b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-item",{attrs:{"two-line":""},on:{click:t.onClick}},[n("v-list-item-avatar",[n("v-img",{attrs:{src:t.link.imageURL,weight:"30",height:"30"}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.link.name))]),n("v-list-item-subtitle",[t._v(t._s(t.link.description))])],1)],1)},x=[],_={props:["link"],methods:{onClick:function(){window.open(this.link.url,"_blank")}}},w=_,y=n("da13"),k=n("8270"),C=n("5d23"),V=Object(u["a"])(w,b,x,!1,null,null,null),j=V.exports;p()(V,{VImg:m["a"],VListItem:y["a"],VListItemAvatar:k["a"],VListItemContent:C["a"],VListItemSubtitle:C["b"],VListItemTitle:C["c"]});var L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[t.error?n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("Alert",{attrs:{text:t.error.message},on:{dismissed:t.onDismissed}})],1)],1):t._e(),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-card",[n("v-card-text",[n("v-container",[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSignin(e)}}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{name:"username",label:"Username",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1)],1),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{name:"password",label:"Password",id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-btn",{attrs:{type:"submit",disabled:t.loading,loading:t.loading}},[t._v("\n                    Sign in\n                     "),n("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[n("v-icon",{attrs:{light:""}},[t._v("mdi-cached")])],1)])],1)],1)],1)])],1)],1)],1)],1)],1)},O=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-alert",{attrs:{type:"error",dismissible:"",value:!0},on:{input:t.onClose}},[t._v("\n  "+t._s(t.text)+"\n")])},T=[],I={props:["text"],methods:{onClose(){this.$emit("dismissed")}}},P=I,$=n("0798"),D=Object(u["a"])(P,S,T,!1,null,null,null),E=D.exports;p()(D,{VAlert:$["a"]});var A={components:{Alert:E},data(){return{username:"",password:"",error:!1,loading:!1}},methods:{onDismissed(){this.error=!1},onSignin(){console.log("loguje się..."),this.loading=!0,fetch("/api/login",{method:"post",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({username:this.username,password:this.password})}).then(t=>{return this.loading=!1,t.json()}).then(t=>{console.log(t),null!==t.user&&this.$emit("Signed"),null!==t.error&&(this.error={message:t.error},console.log(t.error))})}}},U=A,M=n("8336"),R=n("a523"),F=n("0e8f"),G=n("132d"),J=n("a722"),q=n("8654"),B=Object(u["a"])(U,L,O,!1,null,null,null),N=B.exports;p()(B,{VBtn:M["a"],VCard:f["a"],VCardText:v["a"],VContainer:R["a"],VFlex:F["a"],VIcon:G["a"],VLayout:J["a"],VTextField:q["a"]});var z={name:"App",components:{Signin:N,myCard:g,ListElem:j},data:function(){return{list:!0,login_page:!1,links:[],logoURL:"https://dynamic.brandcrowd.com/asset/logo/4c8f8b36-51b9-4ebf-b20c-00e5c25719c3/logo?v=4&text=Logo+Text+Here",title:"Lista linków",logoutText:"Wyloguj"}},created:function(){this.fetchData()},methods:{chooseList:function(){this.list=!0},chooseGrid:function(){this.list=!1},onSigned:function(){this.login_page=!1,this.fetchData()},onLogout:function(){this.login_page=!0,this.links=[],fetch(document.location.origin+"/api/logout").then(t=>this.fetchData())},fetchData:function(){console.log("pobieram dane..."),fetch("/api/links").then(t=>t.json()).then(t=>{console.log(t),"Najpierw się zaloguj"==t.error?this.login_page=!0:this.links=t})}}},H=z,W=n("7496"),K=n("8860"),Q=n("1baa"),X=Object(u["a"])(H,o,r,!1,null,null,null),Y=X.exports;p()(X,{VApp:W["a"],VBtn:M["a"],VCard:f["a"],VCardText:v["a"],VCardTitle:v["b"],VContainer:R["a"],VIcon:G["a"],VImg:m["a"],VList:K["a"],VListItemGroup:Q["a"]});var Z=n("f309");i["a"].use(Z["a"]);var tt=new Z["a"]({icons:{iconfont:"mdi"}});i["a"].config.productionTip=!1,new i["a"]({vuetify:tt,render:t=>t(Y)}).$mount("#app")}});
//# sourceMappingURL=app.5843aad8.js.map